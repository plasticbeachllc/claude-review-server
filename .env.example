# PR Review Agent configuration
# Copy to .env and fill in your values:  cp .env.example .env
#
# Note: unquoted values are truncated at " #" (space + hash).
# Quote values that contain " #" literally, e.g. KEY="value # here".

# ── Runtime (used by the agent on the server) ─────────────────
REVIEW_WORKDIR=/opt/pr-review/workspace
MAX_WORKERS=4
PORT=8080
# MAX_FILE_CHARS=80000        # Max chars for full file contents context
# DEBOUNCE_SECONDS=10         # Delay before reviewing after a synchronize event

# ── Provisioning (used by `just provision` / `just destroy`) ──

# SSH key (optional — auto-detected if not set)
# File path:  SSH_KEY=~/.ssh/id_ed25519.pub
# 1Password:  SSH_KEY=Hetzner - GitHub Webhooks   (matches key comment)
# SSH_KEY=

# Hetzner Cloud
HCLOUD_TOKEN=
SERVER_NAME=pr-review
SERVER_TYPE=cax11
SERVER_LOCATION=nbg1
SERVER_IMAGE=ubuntu-24.04

# GitHub App (auto-populated by `just create-app`)
GH_APP_ID=
GH_APP_PRIVATE_KEY_FILE=github-app.pem
GH_INSTALLATION_ID=
GITHUB_WEBHOOK_SECRET=

# Claude Code OAuth token (injected into the server during provisioning)
# Run `claude setup-token` locally to generate this value.
CLAUDE_CODE_OAUTH_TOKEN=

# Cloudflare (tunnel + DNS automation)
CF_API_TOKEN=
CF_ACCOUNT_ID=
CF_ZONE_ID=
TUNNEL_HOSTNAME=

# GitHub account (org name or personal username)
GITHUB_OWNER=

# ── GPG key hashes (pinned in cloud-init.tmpl.yaml) ──────
# These are the expected SHA-256 hashes of the GPG signing keys downloaded
# during server provisioning.  If a vendor rotates their key, provisioning
# will fail with a "hash mismatch" error.  To update:
#   curl -fsSL <key-url> | sha256sum
# then replace the hash in infra/cloud-init.tmpl.yaml.
#
# NodeSource (Node.js / claude-code):  b42e0321dabdc24e892115da705cf061167eac12a317f23d329862d0aa0a271d
# GitHub CLI:                          20e0125d6f6e077a9ad46f03371bc26d90b04939fb95170f5a1905099cc6bcc0
# Cloudflare (cloudflared):            1bd95f4082b320d541bee351560fc2765aa9f9cd8efa4c9e32135e63f252721d
